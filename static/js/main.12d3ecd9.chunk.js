(this.webpackJsonpapplication=this.webpackJsonpapplication||[]).push([[0],{17:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(6),l=n.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(1),i=n(2),c=n(4),u=n(3),d=n(5),m=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"},a.createElement("h1",{className:"h3 mb-0 text-gray-800 col-lg-12"},this.props.children))}}]),t}(a.Component),h=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="fa-2x text-gray-300 ",t=void 0;return this.props.icon&&(e+=this.props.icon,t=a.createElement("li",{className:e})),a.createElement("div",{className:"col-xl-4 col-md-6 mb-4"},a.createElement("div",{className:"card border-left-"+this.props.theme+" shadow h-100 py-2"},a.createElement("div",{className:"card-body"},a.createElement("div",{className:"row no-gutters align-items-center"},a.createElement("div",{className:"col mr-2"},a.createElement("div",{className:"text-xs font-weight-bold text-"+this.props.theme+" text-uppercase mb-1"},this.props.title),a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.props.children)),a.createElement("div",{className:"col-auto"},t)))))}}]),t}(a.Component),_=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=void 0;return this.props.title&&(e=a.createElement("div",{className:"card-header py-3"},a.createElement("h6",{className:"m-0 font-weight-bold text-"+this.props.color},this.props.title))),a.createElement("div",{className:"card shadow mb-4"},e,a.createElement("div",{className:"card-body"},this.props.children))}}]),t}(a.Component);_.defaultProps={color:"primary"};var p=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.createElement("div",{className:"m-2"},a.createElement(m,null,"Welcome"),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-lg-12"},a.createElement(_,null,a.createElement("section",null,a.createElement("h4",null,"How to use this platform?"),a.createElement("div",null,a.createElement("ul",null,a.createElement("li",null,'Click on "Flashcard" to review all the words in a shuffled order'),a.createElement("li",null,"Learn about a particular word by searching for it then selecting it")))),a.createElement("hr",null),a.createElement("section",null,a.createElement("h4",null,"How to copy this platform to learn my language?"),a.createElement("div",null,a.createElement("ul",null,a.createElement("li",null,"Create a new repository: ",a.createElement("code",null,"my-language")),a.createElement("li",null,"Clone your repository: ",a.createElement("code",null,"git clone https://github.com/USERNAME/my-language.git")),a.createElement("li",null,"Open a new terminal and type: ",a.createElement("br",null)," ",a.createElement("code",null,"cd my-language/ && git submodule add https://github.com/amirbawab/Learn-a-Language.git")),a.createElement("li",null,"Create a diretory to store your words JSON files: ",a.createElement("code",null,"mkdir data")),a.createElement("li",null,"Install packages: ",a.createElement("code",null,"npm install --prefix ./Learn-a-Language/application/")),a.createElement("li",null,"Start application: ",a.createElement("code",null,'LL_DATA_DIR="$PWD/data/" npm run application --prefix ./Learn-a-Language/application/')),a.createElement("li",null,"Open your browser at ",a.createElement("a",{href:"http://localhost:3000/"},"http://localhost:3000/")),a.createElement("li",null,a.createElement("a",{href:"#add-word"},"Add new words")," into the ",a.createElement("code",null,"data")," directory"),a.createElement("li",null,"Upon create or save, the application should automatically refresh"),a.createElement("li",null,"[Optional] ",a.createElement("a",{href:"#publish"},"Publish to Github pages"))))),a.createElement("hr",null),a.createElement("section",{id:"add-word"},a.createElement("h4",null,"Word JSON file"),a.createElement("p",null,"Example of a word JSON file"),a.createElement("code",{style:{display:"block",whiteSpace:"pre-wrap"}},'{\n  "word":"Tea",\n  "alias":"tea",\n  "native_form":["\u8336"],\n  "pronunciation":[\n    {\n      "language":"English",\n      "sound":"Chai"\n    }\n  ],\n  "example":[\n    {\n      "sentence":"I want tea",\n      "pronunciation":[\n        {\n          "language":"English",\n          "sound":"wo yao chai"\n        }\n      ]\n    }\n  ]\n}')),a.createElement("hr",null),a.createElement("section",null,a.createElement("h4",null,"How to reference another word?"),a.createElement("div",null,"In the ",a.createElement("code",null,"native_form")," JSON property, use ",a.createElement("code",null,"#")," followed by the alias of the word you would like to reference. (e.g. ",a.createElement("code",null,"#tea"),")")),a.createElement("hr",null),a.createElement("section",{id:"publish"},a.createElement("h4",null,"Publish to Github pages"),a.createElement("div",null,a.createElement("ul",null,a.createElement("li",null,"Go to Account Settings > Developer Settings > Personal access token"),a.createElement("li",null,"Generate a new token with access scope: ",a.createElement("code",null,"repo")," and ",a.createElement("code",null,"workflow")),a.createElement("li",null,"Copy the generated token"),a.createElement("li",null,"Go to Repository Settings > Secrets"),a.createElement("li",null,"Add a new secret named ",a.createElement("code",null,"ACCESS_TOKEN")," and paste the token as its value"),a.createElement("li",null,"Create github worflows directory: ",a.createElement("code",null,"mkdir -p .github/workflows/")),a.createElement("li",null,"In the created directory, add a new worflow ",a.createElement("code",null,"ghpages.yml"),a.createElement("br",null),a.createElement("code",{style:{display:"block",whiteSpace:"pre-wrap"}},"\nname: gh-pages\n\non:\n  push:\n    branches:\n      - master\n\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@v1\n    - uses: actions/setup-node@v1\n    - name: Build and Deploy\n      uses: JamesIves/github-pages-deploy-action@releases/v2\n      env:\n        ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}\n        BASE_BRANCH: master\n        BRANCH: gh-pages\n        FOLDER: 'build'\n        BUILD_SCRIPT: git submodule update --init --recursive && npm install --prefix Learn-a-Language/application && LL_DATA_DIR=\"$PWD/data\" npm run build --prefix Learn-a-Language/application && mv Learn-a-Language/application/build ./build\n")),a.createElement("li",null,"Make sure that your word JSON files are located inside the ",a.createElement("code",null,"data "),"directory. If you decided to name it something else make sure to update the",a.createElement("code",null," BUILD_SCRIPT")," attribute in the above code"),a.createElement("li",null,"Now every ",a.createElement("code",null,"git push")," will rebuild the website with your new words"),a.createElement("li",null,"Visit ",a.createElement("code",null,"USERNAME.github.io/my-language")," to view the website"))))))))}}]),t}(a.Component),w=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.createElement("div",null,a.createElement("div",{className:"row"},this.props.data.map((function(e,t){return a.createElement(h,{theme:"success",key:t,title:e.get_language()+" Pronunciation",icon:"fas fa-microphone-alt"},e.get_sound())}))))}}]),t}(a.Component),f=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={example:{}},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=void 0;return this.props.data.length>0&&(e=a.createElement("div",{className:"row"},a.createElement("div",{className:"col-lg-12"},a.createElement(_,{title:"Examples"},this.props.data.map((function(e,t){return a.createElement("div",{key:t},a.createElement("div",null,e.get_sentence()),a.createElement("div",null,e.get_sounds().map((function(e,t){return a.createElement("div",{key:t},a.createElement("small",{className:"text-primary mr-2"},a.createElement("b",null,"[",e.get_language().toUpperCase()," PRONUNCIATION]")),a.createElement("span",null,e.get_sound()))}))),a.createElement("div",{className:"border-top my-3"}))})))))),a.createElement("div",null,e)}}]),t}(a.Component),v=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"on_word_select",value:function(e,t){e.preventDefault(),this.props.on_word_select(t)}},{key:"resolve_aliases",value:function(e){for(var t=this,n=/(#\w+)/g,r=void 0,s=[],l=a.createElement(a.Fragment,null,e);r=n.exec(e);)s.push(r[0].slice(1));if(s.length>0){var o=this.props.on_resolve_aliases(s),i="";o.forEach((function(e,t){0!==i.length&&(i+="|"),i+="#"+t}));var c=e.split(new RegExp("("+i+")","g"));l=a.createElement(a.Fragment,null,c.map((function(e,n){var r;if(e.startsWith("#")&&o.has(r=e.slice(1))){var s=o.get(r);return a.createElement("a",{key:n,onClick:function(e){return t.on_word_select(e,s)},href:"#/"},s.get_word())}return a.createElement(a.Fragment,{key:n},e)})))}return a.createElement(a.Fragment,null,l)}},{key:"render",value:function(){var e=this;return a.createElement("div",null,a.createElement("div",{className:"row"},this.props.data.map((function(t,n){return a.createElement(h,{key:n,theme:"info",title:"Native form",icon:"fas fa-language"},e.resolve_aliases(t))}))))}}]),t}(a.Component),g=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"word_select",value:function(e,t){e.preventDefault(),this.props.on_word_select(t)}},{key:"render",value:function(){var e=this,t=void 0;return 0!==this.props.word.get_referenced_by().length&&(t=a.createElement("div",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-lg-12"},a.createElement(_,{title:"Reference By"},this.props.word.get_referenced_by().map((function(t,n){return a.createElement("li",{key:n},a.createElement("a",{href:"#/",onClick:function(n){return e.word_select(n,t)}},t.get_word()))}))))))),a.createElement(a.Fragment,null,t)}}]),t}(a.Component),E=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={word:n.props.word,native_sub_word:null,ref_sub_word:null},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"alias_select",value:function(e){this.setState({native_sub_word:e})}},{key:"ref_select",value:function(e){this.setState({ref_sub_word:e})}},{key:"close_native_sub_word",value:function(e,t){t.preventDefault(),e.setState({native_sub_word:null})}},{key:"open_native_sub_word",value:function(e,t){t.preventDefault(),e.props.on_word_select(e.state.native_sub_word.get_key())}},{key:"close_ref_sub_word",value:function(e,t){t.preventDefault(),e.setState({ref_sub_word:null})}},{key:"open_ref_sub_word",value:function(e,t){t.preventDefault(),e.props.on_word_select(e.state.ref_sub_word.get_key())}},{key:"sub_word_window",value:function(e,n,r,s){var l=this;if(null!==e)return a.createElement("div",{className:"border border-"+s+" mb-4"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 text-center"},a.createElement("a",{href:"#/",onClick:function(e){return n(l,e)}},a.createElement("i",{className:"far fa-file-word m-2"}),"Open")),a.createElement("div",{className:"col-md-6 text-center"},a.createElement("a",{href:"#/",onClick:function(e){return r(l,e)}},a.createElement("i",{className:"fas fa-times m-2"}),"Close"))),a.createElement(t,{key:e.get_key(),word:e,on_resolve_aliases:this.props.on_resolve_aliases,on_word_select:this.props.on_word_select,word_from_alias:this.props.word_from_alias}))}},{key:"render",value:function(){var e=this,t=void 0;return""!==this.state.word.get_alias()&&(t=a.createElement("div",null,a.createElement("small",{style:{fontSize:15},className:"text-secondary"},a.createElement("em",null,"alias: ",this.state.word.get_alias())))),a.createElement("div",{className:"m-2"},a.createElement(m,null,a.createElement("div",null,a.createElement("i",{className:"far fa-file-word"})," ",a.createElement("b",null,this.state.word.get_word())),t),a.createElement(v,{on_resolve_aliases:this.props.on_resolve_aliases,on_word_select:function(t){return e.alias_select(t)},data:this.state.word.get_natives()}),this.sub_word_window(this.state.native_sub_word,this.open_native_sub_word,this.close_native_sub_word,"info"),a.createElement(w,{data:this.state.word.get_pronunciations()}),a.createElement(f,{data:this.state.word.get_examples()}),a.createElement(g,{on_word_select:function(t){return e.ref_select(t)},word:this.state.word}),this.sub_word_window(this.state.ref_sub_word,this.open_ref_sub_word,this.close_ref_sub_word,"warning"))}}]),t}(a.Component),y=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={search_text:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"flashcard_mode",value:function(e){e.preventDefault(),this.props.on_flashcard()}},{key:"word_select",value:function(e,t){e.preventDefault(),this.props.on_word_select(t.get_key())}},{key:"on_search_change",value:function(){var e=this.refs.search;this.setState({search_text:e.value})}},{key:"search_includes",value:function(e){var t=this.state.search_text.toLowerCase();if(t.startsWith("native:")){var n=e.get_natives();return this.search_includes_native(t.substr("native:".length,t.length-"native:".length),n)}t.startsWith("word:")&&(t=t.substr("word:".length,t.length-"word:".length));var a=e.get_word().toLowerCase();return this.search_includes_word(t,a)}},{key:"search_includes_native",value:function(e,t){for(var n=t.length,a=0;a<n;a++)if(t[a].includes(e))return!0;return!1}},{key:"search_includes_word",value:function(e,t){if(e.length>t.length)return!1;for(var n=0,a=0;n<e.length&&a<t.length;)e[n]===t[a]&&n++,a++;return n===e.length}},{key:"render",value:function(){var e=this;return a.createElement("div",null,a.createElement("form",{className:"d-none d-sm-inline-block form-inline mr-md-3 ml-md-3 my-2 my-md-0 mw-100 navbar-search",onSubmit:function(e){return e.preventDefault()}},a.createElement("div",{className:"input-group"},a.createElement("input",{type:"text",ref:"search",value:this.state.search_text,className:"form-control bg-light border-0 small",onChange:function(){return e.on_search_change()},placeholder:"Search for a word"}),a.createElement("div",{className:"input-group-append"},a.createElement("button",{className:"btn btn-warning"},a.createElement("i",{className:"fas fa-search fa-sm"})))),a.createElement("div",{className:"m-2"},a.createElement("small",{className:"text-white"},a.createElement("div",null,a.createElement("b",null,"Search tips:")),a.createElement("div",null,a.createElement("code",{className:"text-white"},"word:")," = search word",a.createElement("br",null),a.createElement("code",{className:"text-white"},"native:")," = search  native text")))),a.createElement("hr",{className:"sidebar-divider my-0"}),a.createElement("li",{className:"nav-item"},a.createElement("a",{className:"nav-link",href:"#/",onClick:function(t){e.flashcard_mode(t)}},a.createElement("i",{className:"fas fa-comment-alt"})," Flashcard ",a.createElement("small",null,a.createElement("em",null,"(",this.props.words.length,")")))),a.createElement("hr",{className:"sidebar-divider my-0"}),a.createElement("div",{style:{height:"400px"}},a.createElement("div",{className:"overflow-auto h-100 d-inline-block"},this.props.words.map((function(t,n){return a.createElement(a.Fragment,{key:n},e.search_includes(t)?a.createElement("li",{className:"nav-item"},a.createElement("a",{className:"nav-link pb-2 pt-2",href:"#/",onClick:function(n){e.word_select(n,t)}},t.get_word())):void 0)})))))}}]),t}(a.Component),b=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"click_button",value:function(e){this.props.on_click()||e.preventDefault()}},{key:"render",value:function(){var e=this,t="btn btn-"+this.props.theme+" btn-icon-split";return this.props.extra_class&&(t+=" "+this.props.extra_class),a.createElement("a",{href:"#/",onClick:function(t){return e.click_button(t)},className:t},a.createElement("span",{className:"icon text-white-50"},a.createElement("i",{className:this.props.icon})),a.createElement("span",{className:"text"},this.props.children))}}]),t}(a.Component),k=(a.Component,function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).props_index=0,n.review_index=0,n.index=-1,n.props_words_keys=n.props.words_keys,n.review_words_keys=[],n.words_keys=n.props.words_keys,n.state={word:null,hide_native:!0,hide_pronunciation:!0,hide_example:!0},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"new_word",value:function(e){this.setState({word:e,hide_native:!0,hide_pronunciation:!0,hide_example:!0})}},{key:"review_word",value:function(){return this.review_words_keys.includes(this.state.word.get_key())||(this.review_words_keys.push(this.state.word.get_key()),this.setState(this.state)),!1}},{key:"remove_word_from_review",value:function(){return this.review_words_keys.includes(this.state.word.get_key())&&(this.review_words_keys.splice(this.review_words_keys.indexOf(this.state.word.get_key()),1),0===this.review_words_keys.length?this.show_all_words():this.words_keys===this.review_words_keys?this.show_review_words():this.setState(this.state)),!1}},{key:"show_all_words",value:function(){var e=this;return this.review_index=this.index,this.words_keys=this.props_words_keys,this.index=this.props_index%this.words_keys.length,this.props.on_show_word(this.words_keys[this.index],(function(t){e.new_word(t)})),!1}},{key:"show_review_words",value:function(){var e=this;return 0!==this.review_words_keys.length&&(this.props_index=this.index,this.words_keys=this.review_words_keys,this.index=this.props_index%this.words_keys.length,this.props.on_show_word(this.words_keys[this.index],(function(t){e.new_word(t)}))),!1}},{key:"next",value:function(){var e=this;return this.words_keys.length>0&&(this.index=(this.index+1)%this.words_keys.length,this.props.on_show_word(this.words_keys[this.index],(function(t){e.new_word(t)}))),!1}},{key:"previous",value:function(){var e=this;return this.words_keys.length>0&&(this.index=(this.index+(this.words_keys.length-1))%this.words_keys.length,this.props.on_show_word(this.words_keys[this.index],(function(t){e.new_word(t)}))),!1}},{key:"toggle_native",value:function(){return this.setState({hide_native:!this.state.hide_native}),!1}},{key:"toggle_pronunciation",value:function(){return this.setState({hide_pronunciation:!this.state.hide_pronunciation}),!1}},{key:"toggle_example",value:function(){return this.setState({hide_example:!this.state.hide_example}),!1}},{key:"render",value:function(){var e=this,t="",n=void 0;if(null===this.state.word)t="disabled",n=a.createElement("div",{className:"row"},a.createElement("div",{className:"col-lg-12"},a.createElement(_,null,a.createElement("div",{className:"col-xl-12 col-md-12 mb-4 text-center"},a.createElement("div",{className:"mb-4"},'Click "Start" to begin the Flashcard exercise'),a.createElement(b,{theme:"secondary",icon:"fas fa-play",on_click:function(){return e.next()}},"Start")))));else{var r=void 0,s=void 0,l=void 0;this.state.hide_native||(r=a.createElement(v,{on_resolve_aliases:this.props.on_resolve_aliases,on_word_select:this.props.on_alias_select,data:this.state.word.get_natives()})),this.state.hide_pronunciation||(s=a.createElement(w,{data:this.state.word.get_pronunciations()})),this.state.hide_example||(l=a.createElement(f,{data:this.state.word.get_examples()})),n=a.createElement(a.Fragment,null,a.createElement(m,null,a.createElement("i",{className:"far fa-file-word"})," ",a.createElement("b",null,this.state.word.get_word()),this.words_keys===this.review_words_keys?a.createElement("small",{className:"ml-2"},a.createElement("i",null,"(Review)")):""),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 mb-4 text-right"},a.createElement(b,{theme:"warning",icon:"far fa-clock",extra_class:"btn-sm",on_click:function(){return e.review_words_keys.includes(e.state.word.get_key())?e.remove_word_from_review():e.review_word()}},this.review_words_keys.includes(this.state.word.get_key())?"Don't Review":"Mark for Review"),a.createElement(b,{theme:"danger",icon:"fas fa-bullseye",extra_class:"btn-sm ml-2",on_click:function(){return e.words_keys===e.props_words_keys?e.show_review_words():e.show_all_words()}},this.words_keys===this.props_words_keys?"Show Words to Review":"Show All Words"))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-lg-12 mb-4"},a.createElement(b,{theme:"info",icon:"fas fa-eye",extra_class:0===this.state.word.get_natives().length?"disabled":"",on_click:function(){return e.toggle_native()}},this.state.hide_native?"Show":"Hide"," Native Form"))),r,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-lg-12 mb-4"},a.createElement(b,{theme:"success",icon:"fas fa-eye",extra_class:0===this.state.word.get_pronunciations().length?"disabled":"",on_click:function(){return e.toggle_pronunciation()}},this.state.hide_pronunciation?"Show":"Hide"," Pronunciation"))),s,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-lg-12 mb-4"},a.createElement(b,{theme:"primary",icon:"fas fa-eye",extra_class:0===this.state.word.get_examples().length?"disabled":"",on_click:function(){return e.toggle_example()}},this.state.hide_example?"Show":"Hide"," Example"))),l)}return a.createElement("div",{className:"m-2"},a.createElement(m,null,a.createElement("i",{className:"far afa-file-word"})," ",a.createElement("b",null,"Flashcard")),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-2 mb-4 text-center"},a.createElement(b,{theme:"secondary",icon:"fas fa-arrow-left",extra_class:t,on_click:function(){return e.previous()}},"Previous")),a.createElement("div",{className:"col-md-8 mb-4 text-center"},this.index>=0?this.index+1+" / "+this.words_keys.length+" ("+this.review_words_keys.length+" to review)":"Total words: "+this.words_keys.length),a.createElement("div",{className:"col-md-2 mb-4 text-center"},a.createElement(b,{theme:"secondary",icon:"fas fa-arrow-right",extra_class:t,on_click:function(){return e.next()}},"Next"))),n)}}]),t}(a.Component)),x=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){if(this.props.hidden)return a.createElement(a.Fragment,null);var e=a.createElement(a.Fragment,null);return this.props.button.length>0&&(e=a.createElement("button",{className:"btn btn-primary btn-sm float-right ml-2",onClick:this.props.on_button_click},this.props.button)),a.createElement("div",{className:"m-2"},a.createElement("div",{className:"alert alert-"+this.props.theme+" alert-dismissible fade show",role:"alert"},this.props.text,e,a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:this.props.on_close},a.createElement("span",null,"\xd7"))))}}]),t}(a.Component),N=n(14);var O=function(){function e(t,n){Object(o.a)(this,e),this.language=t,this.sound=n}return Object(i.a)(e,[{key:"get_language",value:function(){return this.language}},{key:"get_sound",value:function(){return this.sound}},{key:"to_json",value:function(){return{language:this.language,sound:this.sound}}}]),e}(),j=function(){function e(t){Object(o.a)(this,e),this.sentence=t,this.sounds=[]}return Object(i.a)(e,[{key:"get_sentence",value:function(){return this.sentence}},{key:"add_sound",value:function(e,t){this.sounds.push(new O(e,t))}},{key:"delete_sound",value:function(e){this.sounds.splice(e,1)}},{key:"get_sounds",value:function(){return this.sounds}},{key:"to_json",value:function(){var e={};return e.sentence=this.sentence,e.pronunciation=[],this.sounds.forEach((function(t){e.pronunciation.push(t.to_json())})),e}}]),e}(),C=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(o.a)(this,e),this.pronunciations=[],this.examples=[],this.natives=[],this.word=void 0,this.alias=void 0,this.referenced_by=[],this.word=t,this.alias=n.match("^\\w+$")?n:""}return Object(i.a)(e,[{key:"add_pronunciation",value:function(e,t){this.pronunciations.push(new O(e,t))}},{key:"delete_pronunciation",value:function(e){this.pronunciations.splice(e,1)}},{key:"get_pronunciations",value:function(){return this.pronunciations}},{key:"add_example",value:function(e){this.examples.push(e)}},{key:"delete_example",value:function(e){this.examples.splice(e,1)}},{key:"get_examples",value:function(){return this.examples}},{key:"get_word",value:function(){return this.word}},{key:"get_alias",value:function(){return this.alias}},{key:"get_key",value:function(){return e=this.get_word(),N(e);var e}},{key:"add_native",value:function(e){this.natives.push(e)}},{key:"delete_native",value:function(e){this.natives.splice(e,1)}},{key:"get_natives",value:function(){return this.natives}},{key:"add_referenced_by",value:function(e){this.referenced_by.push(e)}},{key:"get_referenced_by",value:function(){return this.referenced_by}},{key:"to_json",value:function(){var e={};return e.word=this.word,e.alias=this.alias,e.native_form=[],this.natives.forEach((function(t){e.native_form.push(t)})),e.example=[],this.examples.forEach((function(t){e.example.push(t.to_json())})),e.pronunciation=[],this.pronunciations.forEach((function(t){e.pronunciation.push(t.to_json())})),e}},{key:"clone",value:function(){return e.from_json(this.to_json())}}],[{key:"from_json",value:function(t){var n=new e(t.word,t.alias);return t.native_form&&t.native_form.forEach((function(e){n.add_native(e)})),t.pronunciation&&t.pronunciation.forEach((function(e){n.add_pronunciation(e.language,e.sound)})),t.example&&t.example.forEach((function(e){var t=new j(e.sentence);e.pronunciation&&e.pronunciation.forEach((function(e){t.add_sound(e.language,e.sound)})),n.add_example(t)})),n}}]),e}(),S=new(function(){function e(){Object(o.a)(this,e),this.word_key_map=new Map,this.word_alias_map=new Map}return Object(i.a)(e,[{key:"get_words",value:function(){return this.word_key_map}},{key:"get_word",value:function(e){var t=new C(e,void 0);return this.get_word_by_key(t.get_key())}},{key:"get_word_by_key",value:function(e){return this.word_key_map.has(e)?this.word_key_map.get(e):null}},{key:"get_word_by_alias",value:function(e){return this.word_alias_map.has(e)?this.word_alias_map.get(e):null}},{key:"add_word",value:function(e){this.word_key_map.set(e.get_key(),e),""!==e.get_alias()&&(this.word_alias_map.has(e.get_alias())&&console.warn("Duplicate alias",e.get_alias()),this.word_alias_map.set(e.get_alias(),e))}},{key:"connect_words",value:function(){var e=this;this.word_key_map.forEach((function(t){var n=t.get_alias();""!==n&&e.word_key_map.forEach((function(e){var a=e.get_natives();for(var r in a)if(new RegExp(".*#"+n+"\\b.*").test(a[r])){t.add_referenced_by(e);break}}))}))}},{key:"init_data",value:function(){this.add_word(C.from_json({word:"Good",alias:"good",native_form:["\u597d"],pronunciation:[{language:"English",sound:"hao"}],example:[{sentence:"I am very good",pronunciation:[{language:"English",sound:"wo hen hao"}]}]})),this.add_word(C.from_json({word:"Hello",alias:"hello",native_form:["\u4f60\u597d","#you #good"],pronunciation:[{language:"French/English",sound:"ni hao"}],example:[]})),this.add_word(C.from_json({word:"You",alias:"you",native_form:["\u4f60"],pronunciation:[{language:"French",sound:"ni"}],example:[]})),this.connect_words()}}]),e}());function A(){J({hidden:!0})}function L(e){J({theme:"danger",hidden:!1,text:e})}function D(){A()}function I(e){M(e)}function F(){!function(){var e=Array.from(S.get_words().keys());(function(e){for(var t=e.length,n=void 0,a=void 0;0!==t;)a=Math.floor(Math.random()*t),n=e[t-=1],e[t]=e[a],e[a]=n})(e),l.a.render(r.a.createElement(k,{words_keys:e,on_alias_select:W,on_resolve_aliases:B,on_show_word:R}),document.getElementById("page-content"))}()}function R(e,t){var n=S.get_word_by_key(e);null!==n?t(n):L("Failed to load flashcard word")}function B(e){var t=new Map;return e.forEach((function(e){var n=S.get_word_by_alias(e);null!==n&&t.set(e,n)})),t}function W(e){J({theme:"warning",hidden:!1,text:"Click on 'Visit Word' to exist flashcard exercise and show word '"+e.get_word()+"'",button:"Visit Word",on_button_click:function(){M(e.get_key()),A()}})}function P(e){return S.get_word_by_alias(e)}function T(){l.a.render(r.a.createElement(p,null),document.getElementById("page-content"))}function H(){!function(){var e=function(e){l.a.render(r.a.createElement("div",{className:"mb-3"},r.a.createElement("a",{className:"sidebar-brand d-flex align-items-center justify-content-center",href:"#/",onClick:function(){return T()}},r.a.createElement("div",{className:"sidebar-brand-icon rotate-n-15"},r.a.createElement("i",{className:"fas fa-language"})),r.a.createElement("div",{className:"sidebar-brand-text mx-3"},"Learn A Language")),r.a.createElement("div",{className:"text-center"},r.a.createElement("small",{className:"text-white"},e))),document.getElementById("logo"))};fetch("./version.txt",{headers:{Accept:"text/plain"}}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.text()})).then((function(t){e(t)})).catch((function(t){e("unknown-version")}))}(),function(){var e=Array.from(S.get_words().values()).sort((function(e,t){return e.get_word().toLowerCase().localeCompare(t.get_word().toLowerCase())}));l.a.render(r.a.createElement(y,{words:e,on_word_select:I,on_flashcard:F}),document.getElementById("search-panel"))}(),T()}function M(e){var t=S.get_word_by_key(e);null!==t?l.a.render(r.a.createElement(E,{key:t.get_word(),word:t,on_resolve_aliases:B,on_word_select:I,word_from_alias:P}),document.getElementById("page-content")):L("Failed to load word")}function J(e){(e=e||{}).theme=e.theme||"warning",e.text=e.text||"",e.hidden=e.hidden||!1,e.button=e.button||"",e.on_button_click=e.on_button_click||function(){},l.a.render(r.a.createElement(x,{hidden:e.hidden,theme:e.theme,text:e.text,button:e.button,on_button_click:e.on_button_click,on_close:D}),document.getElementById("notification"))}S.init_data(),H(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.12d3ecd9.chunk.js.map